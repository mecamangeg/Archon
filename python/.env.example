# Archon Project-Structure Awareness - Environment Configuration
# Copy this file to .env and fill in the values

# =============================================================================
# SUPABASE DATABASE CONFIGURATION (REQUIRED)
# =============================================================================
# Get these from: https://supabase.com/dashboard/project/_/settings/api
SUPABASE_URL=https://xmoguqscvexitdbmirra.supabase.co
SUPABASE_SERVICE_KEY=your_service_key_here

# =============================================================================
# SERVER CONFIGURATION
# =============================================================================
# API server port (default: 8181)
ARCHON_SERVER_PORT=8181

# =============================================================================
# SYNC CONFIGURATION
# =============================================================================
# Maximum number of concurrent file processing workers
SYNC_MAX_WORKERS=5

# Batch size for embedding API calls (default: 50)
SYNC_BATCH_SIZE=50

# Rate limit for API calls per second (default: 10)
SYNC_RATE_LIMIT=10

# =============================================================================
# ERROR HANDLING CONFIGURATION
# =============================================================================
# Maximum retry attempts (default: 3)
ERROR_MAX_RETRIES=3

# Initial retry delay in seconds (default: 1.0)
ERROR_INITIAL_DELAY=1.0

# Circuit breaker failure threshold (default: 5)
CIRCUIT_BREAKER_THRESHOLD=5

# Circuit breaker timeout in seconds (default: 300 = 5 minutes)
CIRCUIT_BREAKER_TIMEOUT=300

# =============================================================================
# RECOVERY CONFIGURATION
# =============================================================================
# Enable checkpoint-based recovery (default: true)
RECOVERY_ENABLED=true

# Checkpoint interval in files (default: 100)
RECOVERY_CHECKPOINT_INTERVAL=100

# =============================================================================
# OPTIONAL: REDIS CACHE CONFIGURATION
# =============================================================================
# Redis host (optional - for caching)
# REDIS_HOST=localhost

# Redis port (optional)
# REDIS_PORT=6379

# Redis database number (optional)
# REDIS_DB=0

# =============================================================================
# OPTIONAL: LOGGING CONFIGURATION
# =============================================================================
# Log level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
LOG_LEVEL=INFO

# Log file path (optional)
# LOG_FILE=/var/log/archon/sync.log

# =============================================================================
# OPTIONAL: MONITORING CONFIGURATION
# =============================================================================
# Enable metrics collection (default: true)
METRICS_ENABLED=true

# Metrics retention period in days (default: 30)
METRICS_RETENTION_DAYS=30

# =============================================================================
# DEPLOYMENT CONFIGURATION
# =============================================================================
# Environment (production, staging, development)
ENVIRONMENT=production

# Deployment timestamp (auto-generated during deployment)
# DEPLOYMENT_TIMESTAMP=2025-11-12T16:00:00Z

# =============================================================================
# NOTES
# =============================================================================
# 1. SUPABASE_URL and SUPABASE_SERVICE_KEY are REQUIRED
# 2. Get Supabase credentials from project settings
# 3. Never commit .env file to version control
# 4. Copy this file to .env and fill in your values
# 5. Restart services after changing configuration
